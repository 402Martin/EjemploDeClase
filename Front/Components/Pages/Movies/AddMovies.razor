@page "/movies/add"
@using Dtos
@using Service
@inject MovieService movieService
@inject NavigationManager navigationManager

<PageTitle>Create movie</PageTitle>
<h3>AddMovies</h3>


<EditForm Model="@movie" OnValidSubmit="OnSubmit">
    <div class="form-group">
        <label for="title">TÃ­tle</label>
        <input type="text" class="form-control" id="title" @bind="movie.Name"/>
    </div>
    <div class="form-group">
        <label for="director">Director</label>
        <input type="text" class="form-control" id="director" @bind="movie.Director"/>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
</EditForm>

@code {
    private CreateMovieDto movie = new CreateMovieDto();

    private void OnSubmit()
    {
        movieService.CreateMovie(movie);
        navigationManager.NavigateTo("/movies");
    }

}